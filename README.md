# ReportoBuster ðŸ¤–

GitHub bot that creates reports from merged pull requests!

# Prerequitsites

### Latest Version of Python

Install Python 3.11.3 or newer, see [here](https://www.python.org/downloads/).

Ensure Python was installed correctly by running this command:

```shell
python --version
```

> If output is a Python version higher than 3.11.3, then the install was successful.

> If you have `zsh: command not found: python` problem, you may need to enter `python3` instead of typing merely `python` in the command line.

# Installation

## Clone repository

Clone the repository using git with this command:

```shell
git clone https://github.com/codebusters-ca/ReportoBuster.git
```

## Required Libraries

Install all the required Python libraries by running the built-in script using this command:

```shell
python installLibraries.py
```

This will install any missing libraries needed to run the bot.

## API tokens

Add a `.env` that stores the API tokens. File should follow this template:

```python
GITHUB_API_TOKEN = GITHUB API KEY HERE
OPENAI_API_TOKEN = OPENAI API KEY HERE
SENDGRID_API_TOKEN = SENDGRID API KEY HERE
```

GitHub API key can be generated by clicking on your profile picture in GitHub, then navigating to Settings > Developer settings > Personal access tokens > Tokens (classic)

OpenAI tokens can be generated [here](https://platform.openai.com/account/api-keys)

SendGrid tokens can be generated from the CodeBuster's sendgrid account

> You may need to ask someone to be added to the CodeBusters OpenAI account

Replace above code with generated keys in their designated spots

Make sure to add the .env in a .gitignore file as to not accidently push private API keys

> :warning: **If you do not need a new AI description generated when running the script, comment out line 25 `ai_description = ai.get_ai_description(prompt)` and replace with this:**

```python
ai_description = "Any description of your choosing"
```

This will ensure the OpenAI API is not called, which depending on how long the descriptions are for each pull requests is around 0.08 cents per 750 words

# Running the bot

Uncomment lines 7 and 10 as this will enable the environment variables

> If commiting code changes, make sure to re-comment these lines as it will cause vercel to crash as the environment variables are manually inputted in vercel config

Then start the local host with the following command

```shell
uvicorn api.main:app --reload
```

Then open up the link that the host is listening on and input the required fields

> If you have `SSL: CERTIFICATE_VERIFY_FAILED` error, try [this](https://stackoverflow.com/a/53310545).
